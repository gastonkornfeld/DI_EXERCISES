{% extends "base.html" %}

{% block content %}




<div class="content-section">
    <form action="" method="POST">
        {{ form.hidden_tag() }}
        <fieldset class="form-group">
            <legend class="border-bottom mb-4">Add a task to your list </legend>
           
            <div class="form-group">
                {{ form.task.label(class='form-control-label') }}
                {% if form.task.errors %}
                    {{ form.task(class='form-control form-control-lg is-invalid') }}
                    <div class="invalid-feedback">
                        {% for error in form.task.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    {{ form.task(class='form-control form-control-lg') }}
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.image.label(class='form-control-label') }}
                {% if form.image.errors %}
                    {{ form.image(class='form-control form-control-lg is-invalid') }}
                    <div class="invalid-feedback">
                        {% for error in form.image.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %}
                    {{ form.image(class='form-control form-control-lg') }}
                {% endif %}
            </div>
            
           
            
        </fieldset>
        <div class="form-group">
            {{ form.submit(class='btn btn-outline-info') }}
        </div>

        
     
    </form>
</div>



<h1 style="background-color: burlywood; text-align: center; text-transform: uppercase;">To do List</h1>


<section style="background-color: royalblue;" class="container p-3 my-3 border">
    
    <ol style="text-transform: none; text-decoration: none; background-color: royalblue;">
        {% for task in tasks %}
             
            <li style="background-color: lightblue;">  
                <section style="text-align: center;" class="container p-3 my-3 border">
                    <div>
                        <input type="checkbox" name="my-checkbox" id="opt-in">
                        <label for="opt-in">{{ task.details }}</label>
                    </div>
                    <div>
                        <img style="height: 300px; width: 300px;" src="{{ task.image.url }}" alt="{{ task.image.url }}">
                    </div>
                </section>
                
                <section style="text-align: center; color: white; background-color: black; font-size: 20px;">
                    <a href="complete/{{task.id}}" >Erase Task</a> 
                </section>
                <hr>
            </li> 
        {% endfor %}
    </ol>




</section>

<section class="container p-3 my-3 border">


    <h1 style="background-color: burlywood; text-align: center; text-transform: uppercase;"> <a href="/delete_all"> Delete all</h1> </a>
</section>
{% endblock %}